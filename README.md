# Colony
3D strategy and game engine exploration

## Modules
For each module now there is the dedicated directory.
- assets: exported blender models, textures, etc. Used by: view.
- engine: core OpenGL stuff like models importing, terrain generation or camera handling. Use: math. Used by: view.
- imgui: generic ImGui files.
- logic: gameplay logic like building units and structures. Use: view.
- math: algorithms and mathematics. Used by: engine.
- shaders: vertex/fragment shaders defined using GLSL. Used by: view.
- view: definitions of how objects shold be renderes. Use: engine, shaders, assets. Used by: logic.

## Main class hierarchies
Updated list of diagrams generated by doxygen.
- Units and structures <br/>![](docs/UnitsAndStructures.png)
- Views<br/>![](docs/Views.png)
- Meshes<br/>![](docs/Meshes.png)
- Events<br/>![](docs/Events.png)

## Codestyle
Defined by .clangformat. Vim setted up to autoformat code on every 'write' through vim-clang-format plugin.

## Documentation
Classed have to be documented. Right now doxygen generates usefull class diagrams.

## Build
Cmake is used. 'compile_commands.json' is generated by adding '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON' and used by youcompleteme vim plugin. Tested only in Linux(Ubuntu 18.04, 5.3.0-26-generic). gcc: 7.4.0. Dependencies: OpenGL, GLFW, Assimp, GLEW. Sample commands:
```sh
mkdir cbuild && cd cbuild
cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON ..
make
./colony
```

## Screenshots
Please, see 'screenshots' directory.

## Videos
Please, see https://www.youtube.com/channel/UCOiOGWCMSnEZTnkkepQVdyA.

## TODO
1. Refactor 'engine': encapsulate events, window, logging, etc.
2. Encapsulate 'view' module.
3. Encapsulate dependencies to make it possible to build on other platforms.
4. Encapsulate OpenGL: make it substitutable by other libs.
